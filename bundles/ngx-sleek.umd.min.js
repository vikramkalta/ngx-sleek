!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/collections"),require("@angular/common"),require("@angular/cdk/table"),require("@angular/cdk/overlay"),require("@angular/cdk/portal")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs","rxjs/operators","@angular/cdk/collections","@angular/common","@angular/cdk/table","@angular/cdk/overlay","@angular/cdk/portal"],t):t(e.ngxSleek={},e.ng.core,null,null,null,e.ng.common,null,null,null)}(this,function(e,t,n,o,r,i,s,a,l){"use strict";var c,p=function(){function e(){this.totalColumns=new n.BehaviorSubject(0),this.totalColumnsAsObservable=this.totalColumns.asObservable()}return e.prototype.setTotalColumns=function(e){this.totalColumns.next(e.length)},e.decorators=[{type:t.Injectable}],e}(),d=(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h="<ng-container slkCellOutlet></ng-container>",u=function(){function e(e,t){this.template=e,this._differs=t}return e.prototype.ngOnChanges=function(e){if(!this._columnsDiffer){var t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}},e.prototype.getColumnsDiff=function(){return this._columnsDiffer.diff(this.columns)},e.prototype.extractCellTemplate=function(e){return function(e,t){if(e instanceof g)return t.headerCell.template;return e instanceof b?t.footerCell.template:t.cell.template}(this,e)},e}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(u),g=function(e){function n(t,n,o){var r=e.call(this,t,n)||this;return r.directiveService=o,r}return d(n,e),n.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),this.columns=this.slkHeaderRowDef},n.prototype.ngOnInit=function(){this.directiveService.setTotalColumns(this.columns)},n.decorators=[{type:t.Directive,args:[{selector:"[slkHeaderRowDef]"}]}],n.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.IterableDiffers},{type:p}]},n.propDecorators={slkHeaderRowDef:[{type:t.Input,args:["slkHeaderRowDef"]}],columns:[{type:t.Input}]},n}(f),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(u),b=function(e){function n(t,n){return e.call(this,t,n)||this}return d(n,e),n.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t)},n.decorators=[{type:t.Directive,args:[{selector:"[slkFooterRowDef]"}]}],n.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.IterableDiffers}]},n}(u);var v=function(e){function n(t,n){return e.call(this,t,n)||this}return d(n,e),n.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),this.columns=this.slkRowDefColumns},n.decorators=[{type:t.Directive,args:[{selector:"[slkRowDef]"}]}],n.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.IterableDiffers}]},n.propDecorators={slkRowDefColumns:[{type:t.Input,args:["slkRowDefColumns"]}],columns:[{type:t.Input}]},n}(u),m=function(){function e(t){this._viewContainer=t,e.mostRecentCellOutlet=this}return e.mostRecentCellOutlet=null,e.decorators=[{type:t.Directive,args:[{selector:"[slkCellOutlet]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}(),_=function(){function e(e,t){this.renderer=e,this.renderer.addClass(t.nativeElement,"header-row")}return e.decorators=[{type:t.Component,args:[{selector:"slk-header-row, tr[slk-header-row]",template:h,changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,styles:["\n      .slk-grid{width:100%}.header-row{background:#fff;text-align:center;min-height:5vh;overflow:hidden;margin:0;padding:0;border-bottom:.1vh solid #e2d9d9}.table-slk-grid{display:block;table-layout:fixed;height:90%;width:96%;margin:2%;border-collapse:collapse;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1);background-color:#f3f3f3}.table-slk-grid tbody{height:calc(100% - 5vh);overflow-y:auto;width:100%}.table-slk-grid tbody,.table-slk-grid td,.table-slk-grid th,.table-slk-grid thead,.table-slk-grid tr{display:block}.table-slk-grid tbody td,.table-slk-grid thead th{float:left;align-items:baseline}\n    "]}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef}]},e}(),w=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"slk-footer-row, tr[slk-footer-row]",template:h,changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,styles:["\n      .slk-grid{width:100%}.header-row{background:#fff;text-align:center;min-height:5vh;overflow:hidden;margin:0;padding:0;border-bottom:.1vh solid #e2d9d9}.table-slk-grid{display:block;table-layout:fixed;height:90%;width:96%;margin:2%;border-collapse:collapse;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1);background-color:#f3f3f3}.table-slk-grid tbody{height:calc(100% - 5vh);overflow-y:auto;width:100%}.table-slk-grid tbody,.table-slk-grid td,.table-slk-grid th,.table-slk-grid thead,.table-slk-grid tr{display:block}.table-slk-grid tbody td,.table-slk-grid thead th{float:left;align-items:baseline}\n    "]}]}],e}(),x=function(){function e(e,t){this.renderer=e,this.renderer.addClass(t.nativeElement,"header-row")}return e.decorators=[{type:t.Component,args:[{selector:"slk-row, tr[slk-row]",template:h,changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,styles:["\n      .slk-grid{width:100%}.header-row{background:#fff;text-align:center;min-height:5vh;overflow:hidden;margin:0;padding:0;border-bottom:.1vh solid #e2d9d9}.table-slk-grid{display:block;table-layout:fixed;height:90%;width:96%;margin:2%;border-collapse:collapse;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1);background-color:#f3f3f3}.table-slk-grid tbody{height:calc(100% - 5vh);overflow-y:auto;width:100%}.table-slk-grid tbody,.table-slk-grid td,.table-slk-grid th,.table-slk-grid thead,.table-slk-grid tr{display:block}.table-slk-grid tbody td,.table-slk-grid thead th{float:left;align-items:baseline}\n    "]}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef}]},e}(),C=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),k=function(){function e(e){this.template=e}return e.decorators=[{type:t.Directive,args:[{selector:"[slkCellDef]"}]}],e.ctorParameters=function(){return[{type:t.TemplateRef}]},e}(),D=function(){function e(e){this.template=e}return e.decorators=[{type:t.Directive,args:[{selector:"[slkHeaderCellDef]"}]}],e.ctorParameters=function(){return[{type:t.TemplateRef}]},e}(),R=function(){function e(e){this.template=e}return e.decorators=[{type:t.Directive,args:[{selector:"[slkFooterCellDef]"}]}],e.ctorParameters=function(){return[{type:t.TemplateRef}]},e}(),S=function(){return function(){}}(),O=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return C(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(e){e&&(this._name=e,this.cssClassFriendlyName=e)},enumerable:!0,configurable:!0}),n.decorators=[{type:t.Directive,args:[{selector:"[slkColumnDef]"}]}],n.propDecorators={name:[{type:t.Input,args:["slkColumnDef"]}],cell:[{type:t.ContentChild,args:[k]}],headerCell:[{type:t.ContentChild,args:[D]}],footerCell:[{type:t.ContentChild,args:[R]}]},n}(S),P=function(){return function(e,t){var n="slk-column-"+e.cssClassFriendlyName;t.nativeElement.classList.add(n)}}(),I=function(e){function r(t,o,r,i){var s=e.call(this,t,o)||this;return s.elementRef=o,s.directiveService=r,s.renderer=i,s.destroy=new n.Subject,s}return C(r,e),r.prototype.ngOnInit=function(){var e=this;this.directiveService.totalColumnsAsObservable.pipe(o.takeUntil(this.destroy)).subscribe(function(t){var n=100/t;e.renderer.setStyle(e.elementRef.nativeElement,"width",n+"%"),e.destroy.next(!0)})},r.decorators=[{type:t.Directive,args:[{selector:"slkHeaderCell, th[slkHeaderCell]"}]}],r.ctorParameters=function(){return[{type:O},{type:t.ElementRef},{type:p},{type:t.Renderer2}]},r}(P),E=function(e){function n(t,n){return e.call(this,t,n)||this}return C(n,e),n.decorators=[{type:t.Directive,args:[{selector:"slkFooterCell, th[slkFooterCell]"}]}],n.ctorParameters=function(){return[{type:O},{type:t.ElementRef}]},n}(P),A=function(e){function r(t,o,r,i){var s=e.call(this,t,o)||this;return s.elementRef=o,s.directiveService=r,s.renderer=i,s.destroy=new n.Subject,s}return C(r,e),r.prototype.ngOnInit=function(){var e=this;this.directiveService.totalColumnsAsObservable.pipe(o.takeUntil(this.destroy)).subscribe(function(t){var n=100/t;e.renderer.setStyle(e.elementRef.nativeElement,"width",n+"%"),e.destroy.next(!0)})},r.decorators=[{type:t.Directive,args:[{selector:"slkCell, td[slkCell]"}]}],r.ctorParameters=function(){return[{type:O},{type:t.ElementRef},{type:p},{type:t.Renderer2}]},r}(P),V=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=function(){function e(e,t){this.viewContainer=e,this.elementRef=t}return e.decorators=[{type:t.Directive,args:[{selector:"[slkRowOutlet]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.ElementRef}]},e}(),j=function(){function e(e,t){this.viewContainer=e,this.elementRef=t}return e.decorators=[{type:t.Directive,args:[{selector:"[slkHeaderRowOutlet]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.ElementRef}]},e}(),N=function(){function e(e,t){this.viewContainer=e,this.elementRef=t}return e.decorators=[{type:t.Directive,args:[{selector:"[slkFooterRowOutlet]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.ElementRef}]},e}(),F="\n    <ng-container slkHeaderRowOutlet></ng-container>\n    <ng-container slkRowOutlet></ng-container>\n    <ng-container slkFooterRowOutlet></ng-container>\n",M=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}V(t,e)}(t.EmbeddedViewRef),function(){function e(e,o,r,i){this._differs=e,this._changeDetectorRef=o,this._elementRef=r,this.renderer=i,this._onDestroy=new n.Subject,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this.pageIndex=1,this.scrollToBottom=new t.EventEmitter,this.viewChange=new n.BehaviorSubject({start:0,end:Number.MAX_VALUE}),this.class="table-slk-grid"}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){this._length=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackBy",{get:function(){return this._trackByFn},set:function(e){t.isDevMode()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+"."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;"TABLE"===this._elementRef.nativeElement.nodeName&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create(function(t,n){return e.trackBy?e.trackBy(n.dataIndex,n.data):n})},e.prototype.ngAfterContentChecked=function(){this._cacheRowDefs(),this._cacheColumnDefs(),this._renderUpdatedColumns(),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this.renderer.addClass(this._elementRef.nativeElement,"slk-grid")},e.prototype.ngOnDestroy=function(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._onDestroy.next(),this._onDestroy.complete(),this.dataSource instanceof r.DataSource&&this.dataSource.disconnect(this)},e.prototype.renderRows=function(){var e=this;this._renderRows=this._getAllRenderRows();var t=this._dataDiffer.diff(this._renderRows);if(t){var n=this._rowOutlet.viewContainer;t.forEachOperation(function(t,o,r){if(null===t.previousIndex)e._insertRow(t.item,r);else if(null===r)n.remove(o);else{var i=n.get(o);n.move(i,r)}r===e._data.length-1&&e._addScrollEvent()})}},e.prototype._getAllRenderRows=function(){for(var e=[],t=0;t<this._data.length;t++)for(var n=this._data[t],o=this._getRenderRowsForData(n,t),r=0;r<o.length;r++){var i=o[r];e.push(i)}return e},e.prototype._getRenderRowsForData=function(e,t){return this._getRowDefs(e,t).map(function(n){return{data:e,rowDef:n,dataIndex:t}})},e.prototype._cacheColumnDefs=function(){var e=this;this._columnDefsByName.clear(),B(this._contentColumnDefs,this._customColumnDefs).forEach(function(t){e._columnDefsByName.set(t.name,t)})},e.prototype._cacheRowDefs=function(){this._headerRowDefs=B(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=B(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=B(this._contentRowDefs,this._customRowDefs);var e=this._rowDefs.filter(function(e){return!e.when});this._defaultRowDef=e[0]},e.prototype._renderUpdatedColumns=function(){var e=function(e,t){return e||!!t.getColumnsDiff()};this._rowDefs.reduce(e,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(e,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(e,!1)&&this._forceRenderFooterRows()},e.prototype._switchDataSource=function(e){this._data=[],this.dataSource instanceof r.DataSource&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e},e.prototype._observeRenderChanges=function(){var e,t=this;this.dataSource&&(this.dataSource.connect instanceof Function?e=this.dataSource.connect(this):this.dataSource instanceof n.Observable?e=this.dataSource:Array.isArray(this.dataSource)&&(e=n.of(this.dataSource)),this._renderChangeSubscription=e.pipe(o.takeUntil(this._onDestroy)).subscribe(function(e){t._data=e||[],t.copyOfData=t._data.slice(),t.renderRows()}))},e.prototype._forceRenderHeaderRows=function(){var e=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach(function(t,n){return e._renderRow(e._headerRowOutlet,t,n)})},e.prototype._forceRenderFooterRows=function(){var e=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach(function(t,n){return e._renderRow(e._footerRowOutlet,t,n)})},e.prototype._getRowDefs=function(e,t){if(1===this._rowDefs.length)return[this._rowDefs[0]];var n=[],o=this._rowDefs.find(function(n){return n.when&&n.when(t,e)})||this._defaultRowDef;return o&&n.push(o),n},e.prototype._insertRow=function(e,t){var n=e.rowDef,o={$implicit:e.data};this._renderRow(this._rowOutlet,n,t,o)},e.prototype._renderRow=function(e,t,n,o){void 0===o&&(o={}),e.viewContainer.createEmbeddedView(t.template,o,n);for(var r=0,i=this._getCellTemplates(t);r<i.length;r++){var s=i[r];m.mostRecentCellOutlet&&m.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,o)}this._changeDetectorRef.markForCheck()},e.prototype._getCellTemplates=function(e){var t=this;return e&&e.columns?Array.from(e.columns,function(n){var o=t._columnDefsByName.get(n);return e.extractCellTemplate(o)}):[]},e.prototype._applyNativeTableSections=function(){for(var e=0,t=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];e<t.length;e++){var n=t[e],o=document.createElement(n.tag);o.appendChild(n.outlet.elementRef.nativeElement),this._elementRef.nativeElement.appendChild(o)}},e.prototype._addScrollEvent=function(){var e=this;document.getElementsByTagName("tbody")[0].addEventListener("scroll",function(t){t.stopImmediatePropagation(),e.onScroll(t)})},e.prototype.onScroll=function(e){var t=e.target.offsetHeight,n=e.target.scrollHeight,o=e.target.scrollTop,r=n-t,i=this.length/this._data.length;if(o===r){if(this.pageIndex++,!(i>=this.pageIndex))return;this.scrollToBottom.emit({pageIndex:this.pageIndex,totalRows:this._length})}},e.prototype._forceRenderDataRows=function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()},e.decorators=[{type:t.Component,args:[{selector:"slk-table, table[slk-table]",exportAs:"slkTable",template:F,styles:["\n      .slk-grid{width:100%}.header-row{background:#fff;text-align:center;min-height:5vh;overflow:hidden;margin:0;padding:0;border-bottom:.1vh solid #e2d9d9}.table-slk-grid{display:block;table-layout:fixed;height:90%;width:96%;margin:2%;border-collapse:collapse;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1);background-color:#f3f3f3}.table-slk-grid tbody{height:calc(100% - 5vh);overflow-y:auto;width:100%}.table-slk-grid tbody,.table-slk-grid td,.table-slk-grid th,.table-slk-grid thead,.table-slk-grid tr{display:block}.table-slk-grid tbody td,.table-slk-grid thead th{float:left;align-items:baseline}\n    "],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:t.IterableDiffers},{type:t.ChangeDetectorRef},{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={scrollToBottom:[{type:t.Output,args:["scrollToBottom"]}],length:[{type:t.Input}],trackBy:[{type:t.Input}],dataSource:[{type:t.Input}],_rowOutlet:[{type:t.ViewChild,args:[T]}],_headerRowOutlet:[{type:t.ViewChild,args:[j]}],_footerRowOutlet:[{type:t.ViewChild,args:[N]}],_contentColumnDefs:[{type:t.ContentChildren,args:[O]}],_contentRowDefs:[{type:t.ContentChildren,args:[v]}],_contentHeaderRowDefs:[{type:t.ContentChildren,args:[g]}],_contentFooterRowDefs:[{type:t.ContentChildren,args:[b]}],class:[{type:t.HostBinding,args:["class"]}]},e}());function B(e,t){return e.toArray().concat(Array.from(t))}var L=[M,v,k,m,D,R,O,A,x,I,E,_,g,w,b,T,j,N],H=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],exports:L,declarations:L,providers:[p]}]}],e}(),$=[];function z(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function U(e,t,n,o){var r;o>n&&(n<(r=function(e,t,n,o){var r=e[Math.floor((n+o)/2)][t].split("")[0].toLowerCase(),i=n,s=o;for(;i<=s;){for(;e[i][t].split("")[0].toLowerCase()<r;)i++;for(;e[s][t].split("")[0].toLowerCase()>r;)s--;i<=s&&(z(e,i,s),i++,s--)}return i}(e,t,n,o))-1&&U(e,t,n,r-1),r<o&&U(e,t,r,o),$=e)}var X=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),G=function(e){function t(t){void 0===t&&(t=[]);var o=e.call(this)||this;return o._renderData=new n.BehaviorSubject([]),o._renderChangesSubscription=n.Subscription.EMPTY,o.sortData=function(e,t,n){var o=t.active,r=t.direction;if(""===r)return e;if(n)return U(e,o,0,e.length-1),e=$;switch(r){case"asc":return function(e,t){for(var n=e.length,o=Math.floor(n/2);o>0;){for(var r=0,i=o;i<n;i++){var s=e[i],a=void 0;for(a=i-o>=0?e[i-o][t].split("")[0].toLowerCase():0,r=i;r>=o&&a>s[t].split("")[0].toLowerCase();r-=o)e[r]=e[r-o];e[r]=s}o=Math.floor(o/2)}return e}(e,o);case"desc":return function(e,t){for(var n,o,r=1,i=e.length,s=i;r||s>1;)for(r=0,s=Math.floor((s+1)/2),n=0;n<i-s;n++)e[n+s][t].split("")[0].toLowerCase()>e[n][t].split("")[0].toLowerCase()&&(o=e[n+s],e[n+s]=e[n],e[n]=o,r=1);return e}(e,o);default:return e}},o._data=new n.BehaviorSubject(t),o._updateChangeSubscription(),o}return X(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data.value},set:function(e){this._data.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sort",{get:function(){return this._sort},set:function(e){this._sort=e,this._updateChangeSubscription()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paginator",{get:function(){return this._paginator},set:function(e){this._paginator=e,this._updateChangeSubscription()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(e){console.log("filter",e),this._filter=e,this._updateChangeSubscription()},enumerable:!0,configurable:!0}),t.prototype._updateChangeSubscription=function(){var e=this,t=this._sort?n.merge(this._sort.slkSortChange,this._sort.initialised):n.of(null),r=this._paginator?n.merge(this._paginator.page,this._paginator.initialised):n.of(null),i=this._filter?n.merge(this._filter.slkFilterChange,this._filter.initialised):n.of(null),s=this._data,a=n.combineLatest(s,t).pipe(o.map(function(t){var n=t[0];return e._orderData(n)})),l=n.combineLatest(a,r).pipe(o.map(function(t){var n=t[0];return e._pageData(n)})),c=n.combineLatest(l,i).pipe(o.map(function(t){var n=t[0];return e._filterData(n)}));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=c.subscribe(function(t){return e._renderData.next(t)})},t.prototype._orderData=function(e){return this.sort?this.sortData(e.slice(),this.sort,!1):e},t.prototype._pageData=function(e){if(!this.paginator)return e;var t=(this.paginator.pageIndex-1)*this.paginator.pageSize;return e.slice().splice(t,this.paginator.pageSize)},t.prototype._filterData=function(e){if(!this.filter)return e;var t=[];if(this._filter.active){console.log("1",this._filter.selectedOptions);for(var n=this._filter.key?this._filter.key:this._filter.active,o=0;o<e.length;o++)for(var r=0;r<this._filter.selectedOptions.length;r++)e[o][n]===this._filter.selectedOptions[r]&&(console.log("enter"),t.push(e[o]));return console.log("filteredDataArray",t),t}return e},t.prototype.connect=function(){return this._renderData},t.prototype.disconnect=function(){},t}(s.DataSource),q=function(){function e(){this.direction=new n.BehaviorSubject(""),this.finalDir=this.direction.asObservable()}return e.prototype.catchFinalDir=function(e){this.direction.next(e)},e.decorators=[{type:t.Injectable}],e}(),Y=function(){function e(e){this.sortDirService=e,this.sortables=new Map,this._stateChanges=new n.Subject,this.initialised=new n.BehaviorSubject(!1),this.start="asc",this._direction="",this.slkSortChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=e},enumerable:!0,configurable:!0}),e.prototype.register=function(e){this.sortables.set(e.id,e)},e.prototype.deregister=function(e){this.sortables.delete(e.id)},e.prototype.sort=function(e){var t=!0;this.active!==e.id?(t=!1,this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortDirService.catchFinalDir(this.direction),this.slkSortChange.emit({active:this.active,direction:this.direction,initial:t})},e.prototype.getNextSortDirection=function(e){var t=function(e){var t=["asc","desc"];"desc"===e&&t.reverse();return t}(e.start),n=t.indexOf(this.direction)+1;return n>=t.length&&(n=0),t[n]},e.prototype.ngOnInit=function(){this.initialised.next(!0)},e.prototype.ngOnChanges=function(){this._stateChanges.next()},e.prototype.ngOnDestroy=function(){this._stateChanges.complete(),this.initialised.complete()},e.decorators=[{type:t.Directive,args:[{selector:"[slkSort]",exportAs:"slkSort"}]}],e.ctorParameters=function(){return[{type:q}]},e.propDecorators={active:[{type:t.Input,args:["slkSortActive"]}],start:[{type:t.Input,args:["slkSortStart"]}],direction:[{type:t.Input,args:["slkSortDirection"]}],slkSortChange:[{type:t.Output,args:["slkSortChange"]}]},e}();var W=function(){function e(e,t,n,o){this._sort=e,this._slkColumnDef=t,this.renderer=n,this.sortDirService=o}return e.prototype.onSort=function(){var e=this;this._sort.sort(this),this.sortDirService.finalDir.pipe(o.take(1)).subscribe(function(t){switch(t){case"asc":return e.renderer.removeClass(e.sortBtn.nativeElement,"slk-sort-header-pointer-down"),void e.renderer.addClass(e.sortBtn.nativeElement,"slk-sort-header-pointer-up");case"desc":return e.renderer.removeClass(e.sortBtn.nativeElement,"slk-sort-header-pointer-up"),void e.renderer.addClass(e.sortBtn.nativeElement,"slk-sort-header-pointer-down");default:return void e.renderer.addClass(e.sortBtn.nativeElement,"slk-sort-header-pointer-down")}})},e.prototype.ngOnInit=function(){!this.id&&this._slkColumnDef&&(this.id=this._slkColumnDef.name),this._sort.register(this)},e.prototype.ngOnDestroy=function(){this._sort.deregister(this)},e.prototype._isSorted=function(){return this._sort.active===this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)},e.decorators=[{type:t.Component,args:[{selector:"[slk-sort-header]",exportAs:"sortHeader",template:'\n      <div class="slk-sort-header-container">\n\n          <button (click)="onSort()" class="slk-sort-header-button" type="button"> \n\n              <ng-content></ng-content>\n\n              <div class="slk-sort-header-pointer">\n                  <div #sortBtn class="slk-sort-header-pointer-design">\n                \n                  </div>\n              </div>\n          </button>\n\n          <div class="filter-header-wrapper">\n              <ng-content select="slk-filter-header"></ng-content>\n          </div>\n    \n      </div>\n    ',styles:["\n      .slk-sort-header-container{display:flex;cursor:pointer;align-items:center}.slk-sort-header-disabled .slk-sort-header-container{cursor:default}.slk-sort-header-button{margin:auto!important;border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor}.slk-sort-header-pointer{height:12px;width:12px;position:relative;display:flex}.slk-sort-header-pointer-down{border-top:5px solid #555}.slk-sort-header-pointer-down,.slk-sort-header-pointer-up{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;margin:auto;display:flex;align-items:center}.slk-sort-header-pointer-up{border-bottom:5px solid #000}.sort-header-wrapper{align-content:center}\n    "],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:Y,decorators:[{type:t.Optional}]},{type:O,decorators:[{type:t.Optional}]},{type:t.Renderer2},{type:q}]},e.propDecorators={id:[{type:t.Input,args:["slk-sort-header"]}],start:[{type:t.Input}],sortBtn:[{type:t.ViewChild,args:["sortBtn"]}]},e}(),J=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],exports:[Y,W],declarations:[Y,W],providers:[q]}]}],e}(),K=function(){return function(e){this.$implicit=e}}(),Q=function(){function e(e,t){this.template=e,this.viewContainer=t}return e.decorators=[{type:t.Directive,args:[{selector:"[slkTreeNodeDef]",inputs:["when: slkTreeNodeDefWhen"]}]}],e.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]},e}(),Z=function(){function e(e){this.viewContainer=e}return e.decorators=[{type:t.Directive,args:[{selector:"[slkTreeNodeOutlet]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}(),ee=function(){function e(){e.mostRecentTreeTextOutlet=this}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e},enumerable:!0,configurable:!0}),e.mostRecentTreeTextOutlet=null,e.decorators=[{type:t.Directive,args:[{selector:"[slkTreeTextOutlet]"}]}],e.ctorParameters=function(){return[]},e}(),te=function(){function e(e,t,n){this.viewContainer=e,this.elementRef=t,this.renderer=n,n.setStyle(t.nativeElement,"backgroundColor","#e2e0e0")}return e.prototype.onMouseOver=function(){var e=this.elementRef.nativeElement.querySelector(".actions");this.renderer.setStyle(e,"visibility","visible")},e.prototype.onMouseOut=function(){var e=this.elementRef.nativeElement.querySelector(".actions");this.renderer.setStyle(e,"visibility","hidden")},e.decorators=[{type:t.Directive,args:[{selector:"[slkAction]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={on:[{type:t.Input}],onMouseOver:[{type:t.HostListener,args:["mouseover"]}],onMouseOut:[{type:t.HostListener,args:["mouseout"]}]},e}(),ne=function(){function e(t,o){this._elementRef=t,this._tree=o,this._destroyed=new n.Subject,this.role="treeitem",e.mostRecentTreeNode=this}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this._setRoleFromData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this._tree.treeControl.isExpanded(this._data)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype._setRoleFromData=function(){var e=this;this._tree.treeControl.isExpandable?this.role=this._tree.treeControl.isExpandable(this._data)?"group":"treeitem":(this._tree.treeControl.getChildren,this._tree.treeControl.getChildren(this._data).pipe(o.takeUntil(this._destroyed)).subscribe(function(t){e.role=t&&t.length?"group":"treeitem"}))},e.mostRecentTreeNode=null,e.decorators=[{type:t.Directive,args:[{selector:"slk-tree-node",exportAs:"slkTreeNode"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:oe}]},e.propDecorators={role:[{type:t.Input}]},e}(),oe=function(){function e(e,o){this._differs=e,this._changeDetectorRef=o,this._onDestroy=new n.Subject,this._levels=new Map,this.cacheEmbeddedViewRef=[],this.viewContainerRef=[],this.class="slk-tree",this.reorderData=new t.EventEmitter,this.viewChange=new n.BehaviorSubject({start:0,end:Number.MAX_VALUE})}return Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._dataDiffer=this._differs.find([]).create(this.trackBy)},e.prototype.ngOnDestroy=function(){this._nodeOutlet.viewContainer.clear(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)},e.prototype.ngAfterContentChecked=function(){var e=this._nodeDefs.filter(function(e){return!e.when});this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()},e.prototype._switchDataSource=function(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()},e.prototype._observeRenderChanges=function(){var e,t=this;"function"==typeof this._dataSource.connect?e=this._dataSource.connect(this):this._dataSource instanceof n.Observable?e=this._dataSource:Array.isArray(this._dataSource)&&(e=n.of(this._dataSource)),e&&(this._dataSubscription=e.pipe(o.takeUntil(this._onDestroy)).subscribe(function(e){return t._renderNodeChanges(e)}))},e.prototype._renderNodeChanges=function(e,t,n,o){var r=this;void 0===t&&(t=this._dataDiffer),void 0===n&&(n=this._nodeOutlet.viewContainer);var i=t.diff(e);i&&(i.forEachOperation(function(t,i,s){if(null===t.previousIndex)r.insertNode(e[s],s,n,o);else if(null===s)n.remove(i);else{var a=n.get(i);n.move(a,s)}}),this._changeDetectorRef.detectChanges())},e.prototype._getNodeDef=function(e,t){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(function(n){return n.when&&n.when(t,e)})||this._defaultNodeDef},e.prototype.insertNode=function(e,t,n,o){var r=this._getNodeDef(e,t);this.viewContainerRef.push(n);var i=new K(e);this.treeControl.getLevel?i.level=this.treeControl.getLevel(e):void 0!==o&&this._levels.has(o)?i.level=this._levels.get(o)+1:i.level=0,this._levels.set(e,i.level);var s=n||this._nodeOutlet.viewContainer;this.embeddedViewRef=s.createEmbeddedView(r.template,i,t),this.cacheEmbeddedViewRef.push(this.embeddedViewRef),ne.mostRecentTreeNode&&(ne.mostRecentTreeNode.data=e),ee.mostRecentTreeTextOutlet&&(ee.mostRecentTreeTextOutlet.data=e,ee.mostRecentTreeTextOutlet.context=this.embeddedViewRef.context)},e.prototype.reorderedData=function(e){this.reorderData.emit(e)},e.decorators=[{type:t.Component,args:[{selector:"slk-tree",exportAs:"slkTree",template:"<ng-container slkTreeNodeOutlet></ng-container>",styles:['\n      .tree-node-wrapper{cursor:pointer;position:relative;margin-top:20px;width:100%;height:35px;border:1px solid #e2e0e0}.actions{width:70px;position:absolute;display:flex;flex-direction:row;justify-content:space-between;bottom:0;right:0;padding-bottom:20px;padding-right:20px}.icon-plus:after{width:8px;height:2px;top:7px;left:4px}.icon-plus:after,.icon-plus:before{flex:1;background-color:#7e3232;border-radius:1px;-webkit-border-radius:1px;-moz-border-radius:1px;position:absolute;content:""}.icon-plus:before{width:2px;height:8px;top:4px;left:7px}.edit.icon{flex:1;color:#000;position:absolute;margin-left:4px;margin-top:7px;width:14px;height:2px;border-radius:1px;border:1px solid #7e3232;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.edit.icon:before{flex:1;content:"";position:absolute;left:-12px;top:-1px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid currentColor;border-top:2px solid transparent;border-bottom:2px solid transparent}.trash.icon{flex:1;color:#000;position:absolute;margin-left:5px;margin-top:7px;width:9px;height:10px;border-left:1px solid #7e3232;border-right:1px solid #7e3232;border-bottom:1px solid #7e3232;border-radius:0 0 2px 2px}.trash.icon:before{flex:1;content:"";position:absolute;left:-4px;top:-2px;width:17px;height:1px;background-color:#7e3232}.trash.icon:after{flex:1;content:"";position:absolute;left:0;top:-5px;width:7px;height:2px;border-left:1px solid currentColor;border-right:1px solid currentColor;border-top:1px solid currentColor;border-radius:4px 4px 0 0}.toggle{float:left;padding-top:15px;margin-right:10px}.toggle-wrapper{border:solid #000;border-width:0 3px 3px 0;display:inline-block;padding:3px}.expand{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.collapse{transform:rotate(45deg);-webkit-transform:rotate(45deg)}\n    '],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:t.IterableDiffers},{type:t.ChangeDetectorRef}]},e.propDecorators={class:[{type:t.HostBinding,args:["class"]}],dataSource:[{type:t.Input}],treeControl:[{type:t.Input}],trackBy:[{type:t.Input}],reorderData:[{type:t.Output,args:["reorderData"]}],_nodeOutlet:[{type:t.ViewChild,args:[Z]}],_nodeDefs:[{type:t.ContentChildren,args:[Q]}]},e}(),re=function(){function e(){this.cache=new Map,this.inFlightObseravbles=new Map,this.DEFAULT_MAX_AGE=3e5,this.addAction=new n.BehaviorSubject(!1),this.onAdd=this.addAction.asObservable()}return e.prototype.onActChange=function(e){this.addAction.next(e)},e.prototype.get=function(e,t,o){return this.hasValidCachedValue(e)?n.of(this.cache.get(e).data):(o||(o=this.DEFAULT_MAX_AGE),this.inFlightObseravbles.has(e)?this.inFlightObseravbles.get(e):n.Observable.throw("Requested key is not available in the Cache"))},e.prototype.set=function(e,t,n){void 0===n&&(n=this.DEFAULT_MAX_AGE),this.cache.set(e,{data:t,expiry:Date.now()+n}),this.notifyInFlightObservers(e,t)},e.prototype.has=function(e){return this.cache.has(e)},e.prototype.notifyInFlightObservers=function(e,t){if(this.inFlightObseravbles.has(e)){var n=this.inFlightObseravbles.get(e);n.observers.length&&n.next(t),n.complete(),this.inFlightObseravbles.delete(e)}},e.prototype.hasValidCachedValue=function(e){return!!this.cache.has(e)&&(!(this.cache.get(e).expiry<Date.now())||(this.cache.delete(e),!1))},e.decorators=[{type:t.Injectable}],e}(),ie=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),se=function(e){function n(t,n,o,r,i,s){var a=e.call(this,t,n)||this;return a._elementRef=t,a._tree=n,a._differs=o,a._viewContainer=r,a.renderer=i,a.actionService=s,a}return ie(n,e),n.prototype.drop=function(e){e.preventDefault(),e.stopPropagation();var t=JSON.parse(e.dataTransfer.getData("nodeContext"));this._embedView(t,this._viewContainer.injector)},n.prototype.onDragOver=function(e){e.preventDefault(),e.stopPropagation()},n.prototype.ngOnInit=function(){this.renderer.setStyle(this._elementRef.nativeElement,"display","block"),this.renderer.setStyle(this._elementRef.nativeElement,"padding-left","40px")},n.prototype.ngAfterContentInit=function(){var e=this;this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree.treeControl.getChildren(this.data).pipe(o.takeUntil(this._destroyed)).subscribe(function(t){e._children=t,e.updateChildrenNodes()}),this.nodeOutlet.changes.pipe(o.takeUntil(this._destroyed)).subscribe(function(t){return e.updateChildrenNodes()})},n.prototype.ngOnDestroy=function(){this._clear(),e.prototype.ngOnDestroy.call(this)},n.prototype.updateChildrenNodes=function(){if(this.nodeOutlet.length&&this._children){var e=this.nodeOutlet.first.viewContainer;this._tree._renderNodeChanges(this._children,this._dataDiffer,e,this._data)}else this._dataDiffer.diff([])},n.prototype._embbedView=function(e){this._viewContainer.createEmbeddedView(this._tree._defaultNodeDef.template,e),ne.mostRecentTreeNode.data=e.$implicit},n.prototype._embedView=function(e,t){for(var n,r,i=this,s=0;s<this._tree.viewContainerRef.length;s++)for(var a=0;a<this._tree.viewContainerRef[s]._embeddedViews.length;a++)if(this._tree.viewContainerRef[s]._embeddedViews[a].context===t.view.context){n=this._tree.viewContainerRef[s];break}for(s=0;s<this._tree.cacheEmbeddedViewRef.length;s++)this._tree.cacheEmbeddedViewRef[s].context===t.view.context&&(r=this._tree.cacheEmbeddedViewRef[s]);this.actionService.get("view-ref").pipe(o.takeUntil(this._destroyed)).subscribe(function(e){var t=n.indexOf(r);n.move(e,t),i.reorderData(n._embeddedViews)})},n.prototype._removeView=function(){var e,t=this;this.actionService.get("view-ref-container").pipe(o.takeUntil(this._destroyed)).subscribe(function(n){var o=(e=n).indexOf(t._droppedViewRef);e.remove(o)})},n.prototype.reorderData=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].context.$implicit);this._tree.reorderedData(t)},n.prototype._clear=function(){this.nodeOutlet&&this.nodeOutlet.first&&(this.nodeOutlet.first.viewContainer.clear(),this._dataDiffer.diff([]))},n.decorators=[{type:t.Directive,args:[{selector:"slk-nested-tree-node",exportAs:"slkNestedTreeNode",providers:[{provide:ne,useExisting:n}]}]}],n.ctorParameters=function(){return[{type:t.ElementRef},{type:oe},{type:t.IterableDiffers},{type:t.ViewContainerRef},{type:t.Renderer2},{type:re,decorators:[{type:t.Optional}]}]},n.propDecorators={nodeOutlet:[{type:t.ContentChildren,args:[Z]}],drop:[{type:t.HostListener,args:["drop",["$event"]]}],onDragOver:[{type:t.HostListener,args:["dragover",["$event"]]}]},n}(ne),ae=function(){function e(){this.expansionModel=new r.SelectionModel(!0)}return e.prototype.toggle=function(e){this.expansionModel.toggle(e)},e.prototype.expand=function(e){this.expansionModel.select(e)},e.prototype.collapse=function(e){this.expansionModel.deselect(e)},e.prototype.isExpanded=function(e){return this.expansionModel.isSelected(e)},e.prototype.toggleDescendants=function(e){this.expansionModel.isSelected(e)?this.collapseDescendants(e):this.expandDescendants(e)},e.prototype.collapseAll=function(){this.expansionModel.clear()},e.prototype.expandDescendants=function(e){var t,n=[e];n.push.apply(n,this.getDescendants(e)),(t=this.expansionModel).select.apply(t,n)},e.prototype.collapseDescendants=function(e){var t,n=[e];n.push.apply(n,this.getDescendants(e)),(t=this.expansionModel).deselect.apply(t,n)},e}(),le=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ce=function(e){function t(t){var n=e.call(this)||this;return n.getChildren=t,n}return le(t,e),t.prototype.expandAll=function(){var e=this;this.expansionModel.clear();var t,n=this.dataNodes.reduce(function(t,n){return t.concat(e.getDescendants(n),[n])},[]);(t=this.expansionModel).select.apply(t,n)},t.prototype.getDescendants=function(e){var t=[];return this._getDescendants(t,e),t.splice(1)},t.prototype._getDescendants=function(e,t){var n=this;e.push(t),this.getChildren(t).pipe(o.take(1)).subscribe(function(t){t&&t.length>0&&t.forEach(function(t){return n._getDescendants(e,t)})})},t}(ae),pe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),de=function(){return function(){this.$implicit=null,this.appContentAction=null}}(),he=function(e){function r(t,o,r){var i=e.call(this)||this;return i.actionService=t,i.nestedNode=o,i.treeComponent=r,i._onDestroy=new n.Subject,i.isAction=!1,i.nodeMap=new Map,i.isExpandable=function(e){return e.expandable},i.collapse=!1,i.nestedTreeControl=new ce(i.isExpandable),i}return pe(r,e),r.prototype.ngOnInit=function(){var e=this;this.actionService.onAdd.pipe(o.takeUntil(this._onDestroy)).subscribe(function(t){e.isAction=t}),this.data&&this.data.hasOwnProperty("children")?this.expand=!0:this.expand=!1},r.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},r.prototype.onToggle=function(){this.treeComponent.treeControl.toggle(this.data),this.actionService.set("dataNode",this.data),this.data&&this.data.hasOwnProperty("children")?(this.expand=!1,this.collapse=!0):(this.expand=!1,this.collapse=!1)},r.prototype.onAdd=function(e){void 0===e&&(e=this.data);this.nodeMap.get(e);e.children.push({});var t=this.treeComponent.dataSource;t.push(e),this.treeComponent.dataSource=t.slice(),console.log("tree",t),this.nestedTreeControl.expand(e)},r.prototype.onDestroy=function(){console.log("on destroy"),this.actionService.onActChange(!1)},r.prototype.onEdit=function(){console.log("on edit"),this.actionService.onActChange(!0)},r.prototype.drag=function(e){for(var t,n,o=0;o<this.treeComponent.viewContainerRef.length;o++)for(var r=0;r<this.treeComponent.viewContainerRef[o]._embeddedViews.length;r++)if(this.treeComponent.viewContainerRef[o]._embeddedViews[r].context===this.context){t=this.treeComponent.viewContainerRef[o];break}for(o=0;o<this.treeComponent.cacheEmbeddedViewRef.length;o++)if(this.treeComponent.cacheEmbeddedViewRef[o].context===this.context){n=this.treeComponent.cacheEmbeddedViewRef[o];break}e.dataTransfer.setData("nodeContext",JSON.stringify(this.context)),this.actionService.set("view-ref",n),this.actionService.set("view-ref-container",t)},r.decorators=[{type:t.Component,args:[{selector:"slk-tree-nest-text",template:'\n      <div class="tree-node-wrapper" appAction draggable="true" (dragstart)="drag($event)">\n\n          <div class="toggle" (click)="onToggle()">\n\n              <i [ngClass]="{\'expand\' : expand, \'toggle-wrapper\' : expand}"></i>\n\n              <i [ngClass]="{\'collapse\' : collapse, \'toggle-wrapper\' : collapse}"></i>\n\n          </div>\n\n          \x3c!-- <ng-container *appContentAction="isAction; else noAction"> --\x3e\n          \x3c!-- <input type="text"> --\x3e\n          \x3c!-- </ng-container> --\x3e\n\n          \x3c!-- <ng-template #noAction> --\x3e\n          <ng-content></ng-content>\n          \x3c!-- </ng-template> --\x3e\n\n          <div class="actions" [style.visibility]="\'hidden\'">\n\n              <div (click)="onAdd()">\n                  <div class="icon icon-plus"></div>\n              </div>\n\n              <div (click)="onDestroy()">\n                  <div class="trash icon"></div>\n              </div>\n\n              <div (click)="onEdit()">\n                  <div class="edit icon"></div>\n              </div>\n\n          </div>\n\n      </div>\n    ',styles:['\n      .tree-node-wrapper{cursor:pointer;position:relative;margin-top:20px;width:100%;height:35px;border:1px solid #e2e0e0}.actions{width:70px;position:absolute;display:flex;flex-direction:row;justify-content:space-between;bottom:0;right:0;padding-bottom:20px;padding-right:20px}.icon-plus:after{width:8px;height:2px;top:7px;left:4px}.icon-plus:after,.icon-plus:before{flex:1;background-color:#7e3232;border-radius:1px;-webkit-border-radius:1px;-moz-border-radius:1px;position:absolute;content:""}.icon-plus:before{width:2px;height:8px;top:4px;left:7px}.edit.icon{flex:1;color:#000;position:absolute;margin-left:4px;margin-top:7px;width:14px;height:2px;border-radius:1px;border:1px solid #7e3232;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.edit.icon:before{flex:1;content:"";position:absolute;left:-12px;top:-1px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid currentColor;border-top:2px solid transparent;border-bottom:2px solid transparent}.trash.icon{flex:1;color:#000;position:absolute;margin-left:5px;margin-top:7px;width:9px;height:10px;border-left:1px solid #7e3232;border-right:1px solid #7e3232;border-bottom:1px solid #7e3232;border-radius:0 0 2px 2px}.trash.icon:before{flex:1;content:"";position:absolute;left:-4px;top:-2px;width:17px;height:1px;background-color:#7e3232}.trash.icon:after{flex:1;content:"";position:absolute;left:0;top:-5px;width:7px;height:2px;border-left:1px solid currentColor;border-right:1px solid currentColor;border-top:1px solid currentColor;border-radius:4px 4px 0 0}.toggle{float:left;padding-top:15px;margin-right:10px}.toggle-wrapper{border:solid #000;border-width:0 3px 3px 0;display:inline-block;padding:3px}.expand{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.collapse{transform:rotate(45deg);-webkit-transform:rotate(45deg)}\n    '],changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}]}],r.ctorParameters=function(){return[{type:re},{type:se},{type:oe}]},r}(ee),ue=function(){function e(e,t,n){this.renderer=e,this.templateRef=t,this.viewContainer=n,this._context=new de,this._elseTemplateRef=null,this._thenTemplateRef=null,this._elseViewRef=null,this._thenViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"appContentAction",{set:function(e){this._context.$implicit=this._context.appContentAction=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appContentActionElse",{set:function(e){this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this.viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this.viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this.viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this.viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e.decorators=[{type:t.Directive,args:[{selector:"[slkContentAction]"}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.TemplateRef},{type:t.ViewContainerRef}]},e.propDecorators={appContentAction:[{type:t.Input}],appContentActionElse:[{type:t.Input}]},e}(),fe=[oe,ne,Q,se,Z,he,ee,te,ue],ge=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],exports:fe,declarations:fe,providers:[Q,re]}]}],e}(),ye=function(){function e(e){this.viewContainer=e}return e.decorators=[{type:t.Directive,args:[{selector:"[slkNavigator]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}(),be=function(){function e(e){this.templateRef=e}return e.decorators=[{type:t.Directive,args:[{selector:"[slkPageIndex]"}]}],e.ctorParameters=function(){return[{type:t.TemplateRef}]},e}(),ve=function(){return function(){}}(),me=function(){return function(e){this.$implicit=e}}(),_e=0,we=0,xe=function(){function e(e,t){this._differs=e,this.cacheService=t,this.viewRefCollection=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){this._length=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this._pageSize},set:function(e){this._pageSize=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._dataDiffer=this._differs.find([]).create()},e.prototype.ngAfterContentInit=function(){this.renderIndex()},e.prototype.renderIndex=function(){var e=this;_e=Math.ceil(this.length/this.pageSize),we=_e,_e>5?_e=7:_e+=2;var t=Array.from(Array(_e).keys());this._pages=this._getAllIndexes(t),this._dataDiffer.diff(this._pages).forEachOperation(function(t,n,o){null===t.previousIndex&&e.insertButtons(t.item)}),this.cacheService.set("view-container-ref",this.viewRefCollection)},e.prototype._getAllIndexes=function(e){var t=this;return e.map(function(n,o){var r,i;switch(o){case 0:r="<",i=!0;break;case 1:r=o.toString(),i=!0;break;case e.length-1:r=">",i=!1;break;default:r=o.toString(),i=!1}return{page:r,temp:t.pageBtnTemplate,index:o,disabled:i}})},e.prototype.insertButtons=function(e){var t={page:e.page,index:e.index,disabled:e.disabled},n=new me(t),o=this.nav.viewContainer.createEmbeddedView(e.temp,n,e.index);this.viewRefCollection.push(o)},e.decorators=[{type:t.Component,args:[{selector:"slk-paginator-child",template:"<ng-container slkNavigator></ng-container>",styles:["\n      .page-controller{background:#fff;border-radius:3px;width:27px;height:27px;cursor:pointer;margin-left:10px}\n    "],changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:t.IterableDiffers},{type:re}]},e.propDecorators={length:[{type:t.Input}],pageSize:[{type:t.Input}],nav:[{type:t.ViewChild,args:[ye]}],pageBtnTemplate:[{type:t.ContentChild,args:[be,{read:t.TemplateRef}]}]},e}(),Ce=function(){function e(e,o){this._changeDetectorRef=e,this.cacheService=o,this.initialised=new n.BehaviorSubject(!1),this._onDestroy=new n.Subject,this.collectedViewRef=[],this._pageIndex=1,this._length=0,this._pageSizeOptions=[],this.page=new t.EventEmitter}return Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(e){this._pageIndex=e,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){this._length=e,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this._pageSize},set:function(e){this._pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSizeOptions",{get:function(){return this._pageSizeOptions},set:function(e){this._pageSizeOptions=(e||[]).map(function(e){return e})},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initialised.next(!0)},e.prototype.ngOnDestroy=function(){this.initialised.complete(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.onPaged=function(e,t){if(0===e?this.pageIndex--:e===_e-1?this.pageIndex++:this.pageIndex=e,we>_e){if(e===_e-1&&this.pageIndex>=5)return void this.incrementButtonContext();if(0===e)return console.log(0),void this.decrementButtonContext(t);if(1===e)return console.log(1),this.collectedViewRef[1].context.$implicit.disabled=!0,void this._onPaged()}this._onPaged(),this.changeContextOfButtons(this.pageIndex)},e.prototype.incrementButtonContext=function(){if(this.pageIndex>=we&&(this.collectedViewRef[6].context.$implicit.disabled=!0),5===this.pageIndex&&(this.collectedViewRef[5].context.$implicit.disabled=!0,this.collectedViewRef[4].context.$implicit.disabled=!1),5!==this.pageIndex)for(var e=0;e<this.collectedViewRef.length;e++)0!==e&&6!==e&&(this.collectedViewRef[e].context.$implicit.page=(parseInt(this.collectedViewRef[e].context.$implicit.page,10)+1).toString(),parseInt(this.collectedViewRef[e].context.$implicit.page,10)===this.pageIndex?this.collectedViewRef[e].context.$implicit.disabled=!0:this.collectedViewRef[e].context.$implicit.disabled=!1);this._onPaged()},e.prototype.decrementButtonContext=function(e){0===parseInt(e,10)&&(this.collectedViewRef[0].context.$implicit.disabled=!0);for(var t=0;t<this.collectedViewRef.length;t++)0!==t&&6!==t&&(this.collectedViewRef[t].context.$implicit.page=(parseInt(this.collectedViewRef[t].context.$implicit.page,10)-1).toString(),parseInt(this.collectedViewRef[t].context.$implicit.page,10)===this.pageIndex?this.collectedViewRef[t].context.$implicit.disabled=!0:this.collectedViewRef[t].context.$implicit.disabled=!1);this._onPaged()},e.prototype._onPaged=function(){this.page.emit({pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})},e.prototype.changeContextOfButtons=function(e){var t=this;this.cacheService.get("view-container-ref").pipe(o.takeUntil(this._onDestroy)).subscribe(function(n){if(t.collectedViewRef=n,5===e)for(var o=0;o<n.length;o++)n[o].context.$implicit.disabled=5===o;5!==e&&(e>1&&e<n.length-2?t.enableAll(n,e):e>=n.length-2?t.disableEndIndex(n):t.disableStartIndex(n))})},e.prototype.disableStartIndex=function(e){for(var t=0;t<e.length;t++)e[t].context.$implicit.disabled=t<2},e.prototype.disableEndIndex=function(e){for(var t=0;t<e.length;t++)t>=e.length-2?e[t].context.$implicit.disabled=!0:e[t].context.$implicit.disabled=!1},e.prototype.enableAll=function(e,t){for(var n=0;n<e.length;n++)e[n].context.$implicit.index===t?e[n].context.$implicit.disabled=!0:e[n].context.$implicit.disabled=!1},e.decorators=[{type:t.Component,args:[{selector:"slk-paginator",template:'\n      <slk-paginator-child \n          [length]="_length" \n          [pageSize]="_pageSize">\n\n          <ng-container *slkPageIndex="let item">\n\n              <button \n                  [disabled]="item.disabled"\n                  class="page-controller" \n                  (click)="onPaged(item.index, item.page)">\n                  {{ item.page }}\n              </button>\n\n          </ng-container>\n\n      </slk-paginator-child>\n    ',styles:["\n      .page-controller{background:#fff;border-radius:3px;width:27px;height:27px;cursor:pointer;margin-left:10px}\n    "],changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:re}]},e.propDecorators={pageIndex:[{type:t.Input}],length:[{type:t.Input}],pageSize:[{type:t.Input}],pageSizeOptions:[{type:t.Input}],page:[{type:t.Output}]},e}(),ke=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],exports:[Ce,xe,ye,be],declarations:[Ce,xe,ye,be]}]}],e}(),De=function(){function e(){this.filterColumns=new Map,this.initialised=new n.BehaviorSubject(!1),this.selectedOptions=[],this.slkFilterChange=new t.EventEmitter}return e.prototype.filter=function(e,t,n){n&&(this.key=n),this.selectedOptions=e,this.active=t,this.slkFilterChange.emit({data:e})},e.prototype.ngOnInit=function(){this.initialised.next(!0)},e.prototype.ngOnDestroy=function(){this.initialised.complete()},e.decorators=[{type:t.Directive,args:[{selector:"[slkFilter]",exportAs:"slkFilter"}]}],e.ctorParameters=function(){return[]},e.propDecorators={active:[{type:t.Input,args:["slkFilterActive"]}],slkFilterChange:[{type:t.Output,args:["slkFilterChange"]}]},e}(),Re=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Se=function(){function e(e,t){this.data=e,this.cacheService=t,this.collectedVal=[],this.data.unshift({name:"Select All",checked:!1})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.onInputChange=function(e){var t=this;if(0===parseInt(e,10)){var n=this.data.map(function(e){return t.data[0].checked?Re({},e,{checked:!1}):Re({},e,{checked:!0})});this.data=n;var o=n.map(function(e){return e.name});this.cacheService.set("selected-options",o)}else this.collectedVal.push(this.data[e].name),this.cacheService.set("selected-options",this.collectedVal)},e.decorators=[{type:t.Component,args:[{selector:"slk-filter-popup",template:'\n      <div class="dropdown">\n\n          <div class="dropdown-button">\n              Please Select\n          </div>\n\n          <ul class="dropdown-selection">\n\n              \x3c!-- later create these tags dynamically --\x3e\n\n              <li class="container" *ngFor="let d of data;let i = index;">\n\n                  <div class="checkmark">\n                      <span>{{ d.name }}</span>\n                  </div>\n\n                  <div class="checkbox">\n                      <input type="checkbox" [checked]="d.checked" [value]="i" (input)="onInputChange($event.target.value)">\n                  </div>\n\n              </li>\n\n          </ul>\n\n      </div>\n    ',styles:["\n      .dropdown{display:inline-block;position:relative;font-size:16px;font-family:Arial}.dropdown-button{background:#3498db;min-width:100px;color:#fff;letter-spacing:.025rem;box-sizing:border-box;padding:10px 30px 10px 20px;position:relative;cursor:pointer;transition:background .3s ease}.dropdown-button:hover{background:#2980b9;transition:background .3s ease}.dropdown ul{direction:ltr;padding:0;list-style:none;box-shadow:0 2px 6px 0 rgba(0,0,0,.2);position:absolute;left:0;margin-top:2px;top:100%;min-width:100%;max-height:250px;overflow:auto}.dropdown li{background:#fff;padding:8px 10px 8px 15px;box-sizing:border-box;cursor:pointer;transition:background .2s ease;overflow:hidden}.dropdown li:hover{background:#f6f6f6;transition:background .2s ease}.checkmark{float:left;height:3vh}.checkbox{float:right;width:20%;height:3vh}.container{position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container .checkbox input{position:absolute;cursor:pointer}\n    "],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:t.Inject,args:[Ie]}]},{type:re}]},e}(),Oe=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],exports:[Se],declarations:[Se]}]}],e}(),Pe=function(){function e(e){this.overlayRef=e}return e.prototype.close=function(){this.overlayRef.dispose()},e}(),Ie=new t.InjectionToken("OPTIONS_DIALOG_DATA"),Ee=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ae={hasBackdrop:!0,backdropClass:"no-style-backdrop",panelClass:"slk-options-dialog-panel",data:[]},Ve=function(){function e(e,t){this.injector=e,this.overlay=t,this.onClose=new n.BehaviorSubject(!1),this.onCloseBehavior=this.onClose.asObservable()}return e.prototype.open=function(e,t){var n=this;void 0===t&&(t={});var o=Ee({},Ae,t),r=this.createOverlay(o,e),i=new Pe(r);this.attachDialogContainer(r,o,i);return r.backdropClick().subscribe(function(e){n.onClose.next(!0),i.close()}),i},e.prototype.createOverlay=function(e,t){var n=this.getOverlayConfig(e,t);return this.overlay.create(n)},e.prototype.attachDialogContainer=function(e,t,n){var o=this.createInjector(t,n),r=new l.ComponentPortal(Se,null,o);return e.attach(r).instance},e.prototype.createInjector=function(e,t){var n=new WeakMap;return n.set(Pe,t),n.set(Ie,e.data),new l.PortalInjector(this.injector,n)},e.prototype.getOverlayConfig=function(e,t){var n=this._getPosition(t);return new a.OverlayConfig({hasBackdrop:e.hasBackdrop,backdropClass:e.backdropClass,panelClass:e.backdropClass,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:n})},e.prototype._getPosition=function(e){var t={originX:"start",originY:"top"},n={originX:"end",originY:"top"},o={originX:"start",originY:"bottom"},r={originX:"end",originY:"bottom"},i={originX:"center",originY:"top"},s={originX:"center",originY:"bottom"},a={overlayX:"start",overlayY:"top"},l={overlayX:"end",overlayY:"top"},c={overlayX:"start",overlayY:"bottom"},p={overlayX:"end",overlayY:"bottom"},d={overlayX:"center",overlayY:"top"},h={overlayX:"center",overlayY:"bottom"};return this.overlay.position().connectedTo(e,o,a).withOffsetY(10).withDirection("rtl").withFallbackPosition(r,l).withFallbackPosition(t,c).withFallbackPosition(n,p).withFallbackPosition(i,h).withFallbackPosition(s,d)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:t.Injector},{type:a.Overlay}]},e}(),Te=function(){function e(e,t,o,r,i,s,a){this._filter=e,this._slkColumnDef=t,this.viewContainerRef=o,this._elementRef=r,this.domService=i,this._grid=s,this.cacheService=a,this.initialised=new n.BehaviorSubject(!1),this._onDestroy=new n.Subject}return e.prototype.onFilterChange=function(){var e,t=this;if(!this.initialData)return e=this._filterUniqueValues(this.id,this._grid.copyOfData),this.initialData=this._grid.copyOfData.slice(),this.cacheService.set("actual-data",this.initialData),void this.openPopup(e);this.cacheService.get("actual-data").pipe(o.takeUntil(this._onDestroy)).subscribe(function(n){e=t._filterUniqueValues(t.id,n),t.openPopup(e)})},e.prototype.ngOnInit=function(){this.initialised.next(!0),this.id=this._slkColumnDef.name},e.prototype.ngOnDestroy=function(){this.initialised.complete(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.openPopup=function(e){this.domService.open(this._elementRef,{data:e});this._filterClose()},e.prototype._filterClose=function(){var e=this;this.domService.onCloseBehavior.pipe(o.takeUntil(this._onDestroy)).subscribe(function(t){t&&e._getSelectedValues()})},e.prototype._getSelectedValues=function(){var e=this;this.cacheService.get("selected-options").pipe(o.takeUntil(this._onDestroy)).subscribe(function(t){e._filter.filter(t,e.id,e.key)})},e.prototype._filterUniqueValues=function(e,t){var n=[],o=[];if(this.metadata){for(var r=0;r<this.metadata.length;r++)if(this.metadata[r].name===this.id){this.key=this.metadata[r].reference_id;break}for(r=0;r<t.length;r++)n.push(t[r][this.key]);return o=this._removeDuplicates(n),this._options(o)}for(r=0;r<t.length;r++)n.push(t[r][e]);return o=this._removeDuplicates(n),this._options(o)},e.prototype._removeDuplicates=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})},e.prototype._options=function(e){return e.map(function(e,t){return{name:e,checked:!1}})},e.decorators=[{type:t.Component,args:[{selector:"slk-filter-header",template:'\n      <div class="triangle-down"></div>\n    ',styles:["\n      .triangle-down{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:20px solid #555;float:right}\n    "],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:De,decorators:[{type:t.Optional}]},{type:O,decorators:[{type:t.Optional}]},{type:t.ViewContainerRef},{type:t.ElementRef},{type:Ve},{type:M},{type:re}]},e.propDecorators={metadata:[{type:t.Input,args:["metadata"]}],id:[{type:t.Input,args:["slk-filter-header"]}],onFilterChange:[{type:t.HostListener,args:["click"]}]},e}(),je=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,Oe,a.OverlayModule],exports:[Te,De],declarations:[Te,De],entryComponents:[Se],providers:[Ve]}]}],e}();e.DataRowOutletDirective=T,e.HeaderRowOutletDirective=j,e.FooterRowOutletDirective=N,e.SLK_TABLE_TEMPLATE=F,e.SlkTableComponent=M,e.SLK_ROW_TEMPLATE=h,e.BaseRowDef=u,e.SlkHeaderRowDefBase=f,e.SlkHeaderRowDefDirective=g,e.SlkFooterRowDefBase=y,e.SlkFooterRowDefDirective=b,e.SlkRowDefDirective=v,e.SlkCellOutletDirective=m,e.SlkHeaderRowComponent=_,e.SlkFooterRowComponent=w,e.SlkRowComponent=x,e.SlkCellDefDirective=k,e.SlkHeaderCellDefDirective=D,e.SlkFooterCellDefDirective=R,e.SlkColumnDefBase=S,e.SlkColumnDefDirective=O,e.BaseSlkCell=P,e.SlkHeaderCellDirective=I,e.SlkFooterCellDirective=E,e.SlkCellDirective=A,e.SlkGridModule=H,e.SlkGridDataSource=G,e.DirectiveService=p,e.SlkSortModule=J,e.SlkSortHeaderComponent=W,e.SlkSortDirective=Y,e.SlkTreeComponent=oe,e.SlkTreeModule=ge,e.SlkNestedTreeNodeDirective=se,e.NestedTreeControl=ce,e.SlkTreeNodeOutletDirective=Z,e.SlkTreeNodeOutletContext=K,e.SlkTreeNodeDefDirective=Q,e.SlkTreeNodeDirective=ne,e.SlkTreeTextOutletDirective=ee,e.SlkTreeActionDirective=te,e.SlkContentActionContext=de,e.SlkTreeNodeTextComponent=he,e.SlkAddActionDirective=ue,e.viewRefKey="view-ref",e.viewRefContainer="view-ref-container",e.dataNode="dataNode",e.ActionsService=re,e.SlkNavDirective=ye,e.SlkPageIndexDirective=be,e.PAGINATOR_CHILD_TEMPLATE="<ng-container slkNavigator></ng-container>",e.PageEvent=ve,e.PaginatorContext=me,e.viewContainerRef="view-container-ref",e.SlkPaginatorChildComponent=xe,e.SlkPaginatorComponent=Ce,e.SlkPaginatorModule=ke,e.SlkGridFilterDirective=De,e.actualData="actual-data",e.FILTER_PANEL_MAX_HEIGHT=256,e.FILTER_PANEL_VIEWPORT_PADDING=8,e.SlkGridFilterComponent=Te,e.SlkGridFilterRef=Pe,e.DomService=Ve,e.OPTIONS_DIALOG_DATA=Ie,e.SlkFilterModule=je,e.selectedOptions="selected-options",e.SlkGridPopupComponent=Se,e.SlkGridPopupModule=Oe,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-sleek.umd.min.js.map
